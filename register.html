<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up | SkillSwap</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="./css/login.css">
</head>

<body>
    <!-- Header -->
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
            <div class="container">
                <a class="navbar-brand logo" href="index.html">Skill<span>Swap</span></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto nav-links">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">How It Works</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Browse Skills</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Community</a>
                        </li>
                    </ul>
                    <div class="auth-buttons">
                        <a href="login.html" class="btn btn-outline">Log In</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <div class="main-content">
        <div class="login-wrapper">
            <div class="login-container">
                <div class="login-header">
                    <h1>Create Your Account</h1>
                    <p>Join our community of skill exchangers</p>
                </div>

                <div class="form-container signUp" id="signupForm">
                    <div class="input-group">
                        <i class="fa-solid fa-user"></i>
                        <input type="text" placeholder="Full Name" id="fullName" style="border-radius: 10px;">
                    </div>
                    <div class="input-group">
                        <i class="fa-solid fa-envelope"></i>
                        <input type="email" placeholder="Email" id="r-email" style="border-radius: 10px;">
                    </div>
                    <div class="input-group">
                        <i class="fa-solid fa-lock"></i>
                        <input type="password" placeholder="Password" id="newPassword" style="border-radius: 10px;" oninput="toggleEye(this)">
                        <i class="fa-solid fa-eye toggle-password" onclick="togglePassword(this)"></i>
                    </div>
                    <div class="input-group">
                        <i class="fa-solid fa-lock"></i>
                        <input type="password" placeholder="Confirm Password" style="border-radius: 10px;" id="confirmPassword"
                            oninput="toggleEye(this)">
                        <i class="fa-solid fa-eye toggle-password" onclick="togglePassword(this)"></i>
                    </div>
                    <button id="signup" style="font-weight: bold; text-transform: uppercase;">Register</button>
                    <p class="switch-text">Already have an account? <a href="./login.html">Log in</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h3>SkillSwap</h3>
                    <p>Connecting people through skill exchange. No money, just knowledge sharing.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#">How It Works</a></li>
                        <li><a href="#">Browse Skills</a></li>
                        <li><a href="#">Success Stories</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h3>Support</h3>
                    <ul class="footer-links">
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Safety Guidelines</a></li>
                        <li><a href="#">Community Rules</a></li>
                        <li><a href="#">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright text-center">
                <p>&copy; 2025 SkillSwap. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="./js/auth.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('signup').addEventListener('click', function() {
            const name = document.getElementById('fullName').value;
            const email = document.getElementById('r-email').value;
            const password = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (!name || !email || !password || !confirmPassword) {
                AuthSystem.showMessage('Please fill in all fields', 'error');
                return;
            }
            
            if (password !== confirmPassword) {
                AuthSystem.showMessage('Passwords do not match', 'error');
                return;
            }
            
            if (password.length < 6) {
                AuthSystem.showMessage('Password should be at least 6 characters', 'error');
                return;
            }
            
            const userData = { name, email, password };
            const result = AuthSystem.register(userData);
            
            if (result.success) {
                // Redirect will happen automatically via auth state change
            }
        });
        
        // Enter key support
        document.getElementById('confirmPassword').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('signup').click();
            }
        });
        
        // Initialize password visibility toggles
        document.querySelectorAll('.toggle-password').forEach(icon => {
            icon.addEventListener('click', function() {
                togglePassword(this);
            });
        });
        
        document.querySelectorAll('input[type="password"]').forEach(input => {
            input.addEventListener('input', function() {
                toggleEye(this);
            });
        });
    });
    
    function togglePassword(icon) {
        const input = icon.previousElementSibling;
        if (input.type === "password") {
            input.type = "text";
            icon.classList.replace("fa-eye", "fa-eye-slash");
        } else {
            input.type = "password";
            icon.classList.replace("fa-eye-slash", "fa-eye");
        }
    }

    function toggleEye(input) {
        const icon = input.parentElement.querySelector(".toggle-password");
        if (input.value.trim() === "") {
            icon.style.display = "none";
            input.type = "password";
            icon.classList.replace("fa-eye-slash", "fa-eye");
        } else {
            icon.style.display = "block";
        }
    }
</script>
And update the password inputs in register.html:

html
<div class="input-group">
    <i class="fa-solid fa-lock"></i>
    <input type="password" placeholder="Password" id="newPassword" style="border-radius: 10px;">
    <i class="fa-solid fa-eye toggle-password"></i>
</div>
<div class="input-group">
    <i class="fa-solid fa-lock"></i>
    <input type="password" placeholder="Confirm Password" id="confirmPassword" style="border-radius: 10px;">
    <i class="fa-solid fa-eye toggle-password"></i>
</div>
Summary of changes:

Removed type="module" from script tags

Removed inline event handlers (oninput and onclick attributes)

Added event listeners in JavaScript instead

Made functions global so they're accessible to event listeners

Initialized the eye toggle functionality on page load

This should resolve the "Uncaught ReferenceError: toggleEye is not defined" error.

image.png
PNG 9.48KB
this error now
The error occurs because AuthSystem is not available when the button click handler runs. This happens because the auth.js script might not be fully loaded yet, or there's a timing issue.

Here's the fixed login.html:

html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log In | SkillSwap</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="./css/login.css">
</head>

<body>
    <!-- Header -->
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
            <div class="container">
                <a class="navbar-brand logo" href="index.html">Skill<span>Swap</span></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto nav-links">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">How It Works</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Browse Skills</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Community</a>
                        </li>
                    </ul>
                    <div class="auth-buttons">
                        <a href="./register.html" class="btn btn-outline">Register</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <div class="main-content">
        <div class="login-wrapper">
            <div class="login-container">
                <div class="login-header">
                    <h1>Welcome Back!</h1>
                    <p>Sign in to your SkillSwap account</p>
                </div>

                <div class="form-container signIn" id="signinForm">
                    <div class="input-group" style="border-radius: 10px;">
                        <i class="fa-solid fa-envelope"></i>
                        <input type="email" id="l-email" placeholder="Email" style="border-radius: 10px;">
                    </div>
                    <div class="input-group">
                        <i class="fa-solid fa-lock"></i>
                        <input type="password" id="l-password" placeholder="Password" style="border-radius: 10px;">
                        <i class="fa-solid fa-eye toggle-password"></i>
                    </div>
                    <div class="forgot-link">
                        <a href="./forgot.html">Forgot Password?</a>
                    </div>
                    <button id="signin" style="font-weight: bold; text-transform: uppercase;">Login</button>
                    <p class="switch-text">Don't have an account? <a href="./register.html">Register</a></p>
                    <div class="or">OR</div>
                    <div class="google">
                        <div class="googleBtn">
                            <button id="googleBtn" style="width: 250px; display: flex; justify-content: space-evenly; align-items: center;">
                                <i class="fa-brands fa-google"></i>
                                <span>Sign in with Google</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h3>SkillSwap</h3>
                    <p>Connecting people through skill exchange. No money, just knowledge sharing.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#">How It Works</a></li>
                        <li><a href="#">Browse Skills</a></li>
                        <li><a href="#">Success Stories</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h3>Support</h3>
                    <ul class="footer-links">
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Safety Guidelines</a></li>
                        <li><a href="#">Community Rules</a></li>
                        <li><a href="#">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright text-center">
                <p>&copy; 2025 SkillSwap. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/auth.js"></script>
    <script>
        // Wait for both DOM and AuthSystem to be ready
        function initializeLogin() {
            // Check if AuthSystem is available
            if (typeof AuthSystem === 'undefined') {
                console.log('AuthSystem not loaded yet, retrying...');
                setTimeout(initializeLogin, 100);
                return;
            }

            console.log('AuthSystem loaded, initializing login...');

            // Login form handler
            document.getElementById('signin').addEventListener('click', function() {
                const email = document.getElementById('l-email').value;
                const password = document.getElementById('l-password').value;
                
                if (!email || !password) {
                    AuthSystem.showMessage('Please fill in all fields', 'error');
                    return;
                }
                
                const result = AuthSystem.login(email, password);
                if (!result.success) {
                    AuthSystem.showMessage(result.message || 'Login failed', 'error');
                }
            });
            
            // Google Sign-In handler (placeholder)
            document.getElementById('googleBtn').addEventListener('click', function() {
                AuthSystem.showMessage('Google sign-in would be implemented here', 'info');
            });
            
            // Enter key support
            document.getElementById('l-password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('signin').click();
                }
            });
            
            // Initialize password visibility toggles
            document.querySelectorAll('.toggle-password').forEach(icon => {
                icon.addEventListener('click', function() {
                    togglePassword(this);
                });
            });
            
            document.querySelectorAll('input[type="password"]').forEach(input => {
                input.addEventListener('input', function() {
                    toggleEye(this);
                });
                
                // Initialize eye icon visibility
                toggleEye(this);
            });
        }

        function togglePassword(icon) {
            const input = icon.previousElementSibling;
            if (input.type === "password") {
                input.type = "text";
                icon.classList.replace("fa-eye", "fa-eye-slash");
            } else {
                input.type = "password";
                icon.classList.replace("fa-eye-slash", "fa-eye");
            }
        }

        function toggleEye(input) {
            const icon = input.parentElement.querySelector(".toggle-password");
            if (input.value.trim() === "") {
                icon.style.display = "none";
                input.type = "password";
                icon.classList.replace("fa-eye-slash", "fa-eye");
            } else {
                icon.style.display = "block";
            }
        }

        // Start initialization when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeLogin);
        } else {
            initializeLogin();
        }
    </script>
</body>

</html>
And here's the fixed register.html:

html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up | SkillSwap</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="./css/login.css">
</head>

<body>
    <!-- Header -->
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
            <div class="container">
                <a class="navbar-brand logo" href="index.html">Skill<span>Swap</span></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto nav-links">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">How It Works</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Browse Skills</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Community</a>
                        </li>
                    </ul>
                    <div class="auth-buttons">
                        <a href="login.html" class="btn btn-outline">Log In</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <div class="main-content">
        <div class="login-wrapper">
            <div class="login-container">
                <div class="login-header">
                    <h1>Create Your Account</h1>
                    <p>Join our community of skill exchangers</p>
                </div>

                <div class="form-container signUp" id="signupForm">
                    <div class="input-group">
                        <i class="fa-solid fa-user"></i>
                        <input type="text" placeholder="Full Name" id="fullName" style="border-radius: 10px;">
                    </div>
                    <div class="input-group">
                        <i class="fa-solid fa-envelope"></i>
                        <input type="email" placeholder="Email" id="r-email" style="border-radius: 10px;">
                    </div>
                    <div class="input-group">
                        <i class="fa-solid fa-lock"></i>
                        <input type="password" placeholder="Password" id="newPassword" style="border-radius: 10px;">
                        <i class="fa-solid fa-eye toggle-password"></i>
                    </div>
                    <div class="input-group">
                        <i class="fa-solid fa-lock"></i>
                        <input type="password" placeholder="Confirm Password" style="border-radius: 10px;" id="confirmPassword">
                        <i class="fa-solid fa-eye toggle-password"></i>
                    </div>
                    <button id="signup" style="font-weight: bold; text-transform: uppercase;">Register</button>
                    <p class="switch-text">Already have an account? <a href="./login.html">Log in</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h3>SkillSwap</h3>
                    <p>Connecting people through skill exchange. No money, just knowledge sharing.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#">How It Works</a></li>
                        <li><a href="#">Browse Skills</a></li>
                        <li><a href="#">Success Stories</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h3>Support</h3>
                    <ul class="footer-links">
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Safety Guidelines</a></li>
                        <li><a href="#">Community Rules</a></li>
                        <li><a href="#">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright text-center">
                <p>&copy; 2025 SkillSwap. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/auth.js"></script>
    <script>
        // Wait for both DOM and AuthSystem to be ready
        function initializeRegister() {
            // Check if AuthSystem is available
            if (typeof AuthSystem === 'undefined') {
                console.log('AuthSystem not loaded yet, retrying...');
                setTimeout(initializeRegister, 100);
                return;
            }

            console.log('AuthSystem loaded, initializing register...');

            document.getElementById('signup').addEventListener('click', function() {
                const name = document.getElementById('fullName').value;
                const email = document.getElementById('r-email').value;
                const password = document.getElementById('newPassword').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                
                if (!name || !email || !password || !confirmPassword) {
                    AuthSystem.showMessage('Please fill in all fields', 'error');
                    return;
                }
                
                if (password !== confirmPassword) {
                    AuthSystem.showMessage('Passwords do not match', 'error');
                    return;
                }
                
                if (password.length < 6) {
                    AuthSystem.showMessage('Password should be at least 6 characters', 'error');
                    return;
                }
                
                const userData = { name, email, password };
                const result = AuthSystem.register(userData);
                
                if (!result.success) {
                    AuthSystem.showMessage(result.message || 'Registration failed', 'error');
                }
            });
            
            // Enter key support
            document.getElementById('confirmPassword').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('signup').click();
                }
            });
            
            // Initialize password visibility toggles
            document.querySelectorAll('.toggle-password').forEach(icon => {
                icon.addEventListener('click', function() {
                    togglePassword(this);
                });
            });
            
            document.querySelectorAll('input[type="password"]').forEach(input => {
                input.addEventListener('input', function() {
                    toggleEye(this);
                });
                
                // Initialize eye icon visibility
                toggleEye(this);
            });
        }

        function togglePassword(icon) {
            const input = icon.previousElementSibling;
            if (input.type === "password") {
                input.type = "text";
                icon.classList.replace("fa-eye", "fa-eye-slash");
            } else {
                input.type = "password";
                icon.classList.replace("fa-eye-slash", "fa-eye");
            }
        }

        function toggleEye(input) {
            const icon = input.parentElement.querySelector(".toggle-password");
            if (input.value.trim() === "") {
                icon.style.display = "none";
                input.type = "password";
                icon.classList.replace("fa-eye-slash", "fa-eye");
            } else {
                icon.style.display = "block";
            }
        }

        // Start initialization when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeRegister);
        } else {
            initializeRegister();
        }
    </script>


</body>

</html>